From 6.x to 7.0
===============

.. contents:: Contents
   :local:
   :depth: 1

Elgg core changes
-----------------

Default config changes
~~~~~~~~~~~~~~~~~~~~~~

* The trash is now enabled by default

Cron
~~~~

The PHP max execution time during the CRON execution has been set to 'unlimited'. So for developers there is no longer a
need to call ``set_time_limit(0);``

Entity restore
~~~~~~~~~~~~~~

The ``entity/chooserestoredestination`` form and action now use a singular parameter value for the
``destination_container_guid`` when selecting a different entity to restore to.

Entity listings
~~~~~~~~~~~~~~~

The behaviour of ``elgg_list_entities()`` has been changed. The default value for the ``limit`` parameter which can be
provided by the query parameter ``limit`` (eg. ``/blog/all?limit=20``) has been limited to a minimum of 1 and a maximum
of 100.

Plugin changes
--------------

Group route definitions
~~~~~~~~~~~~~~~~~~~~~~~

In the group route definition we've dropped the ``subpage`` variable for the following routes:

- ``collection:object:blog:group``
- ``collection:object:bookmarks:group``
- ``collection:object:page:group``

This could break user favorites to those pages.

Groups
~~~~~~

The ``group/edit`` form and action now use a singular parameter value for the ``owner_guid`` when selecting a
different group owner.

Likes
~~~~~

By default only content owners can see who likes their content. This can be made public by a new plugin setting.

Messages
~~~~~~~~

The ``messages/send`` form and action parameter ``recipients`` has been renamed to ``recipient`` and now contains a
singular value when selecting a recipient.

Profile
~~~~~~~

The profile field `Twitter` has been removed.

Webservices
~~~~~~~~~~~

The responses from the REST API calls now have a ``Content-Disposition: attachment; filename="result.<view>"`` header.

Changes in functions
--------------------

Changed function return types
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* ``elgg_register_external_file()`` now returns void
* ``elgg_register_pam_handler()`` now returns void
* ``elgg_register_route()`` now returns void
* ``elgg_unregister_external_file()`` now returns void
* ``elgg_unregister_menu_item()`` now returns void

Changed class function return types
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

* ``\Elgg\Traits\Di\ServiceFacade`` now returns a ``string``
